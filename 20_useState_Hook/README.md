
# درس 24: استخدام هوك useState في React

مرحباً بكم في الدرس 24 من سلسلة دروس ReactJS. في هذا الدرس سنتعرف على أول هوك سنستخدمه في السلسلة وهو **useState**، والذي سيساعدنا على إدارة حالة المكونات بطريقة تضمن إعادة رسمها (re-render) تلقائياً عند حدوث تغييرات.

---

## الأهداف
- **فهم مفهوم الهوكس في React:** التعرف على الدوال التي تضيف مزايا إضافية للمكتبة.
- **استخدام useState:** معرفة كيفية تعريف حالة للمكون وتحديثها.
- **تحقيق التفاعل:** ربط تغييرات الحالة مع تحديث واجهة المستخدم تلقائياً.

---

## الفائدة
- **إدارة الحالة بكفاءة:** باستخدام useState يمكنك تتبع القيم المتغيرة في مكونك بسهولة.
- **التفاعل مع المستخدم:** عند تغيير الحالة، يقوم React بإعادة رسم المكون لعرض القيمة الجديدة دون الحاجة للتعامل مع DOM بشكل مباشر.
- **تبسيط كتابة الكود:** التقنيات الحديثة مثل تفكيك المصفوفات (Destructuring) تجعل الكود أكثر وضوحاً وتنظيماً.

---

## الشرح المفصل
في الدروس السابقة واجهنا مشكلة حيث أن تغيير قيمة معينة (مثل تغيير الاسم عند الضغط على زر) لم يكن ينعكس على واجهة المستخدم، وذلك لأن React لم تكن تعلم بضرورة إعادة رسم المكون بعد تغيير القيمة.

لحل هذه المشكلة، يستخدم React هوك **useState** الذي يعمل كوسيط بين القيمة والتغييرات، حيث:
- **useState** تُعيد لنا مصفوفة تحتوي على عنصرين:
  1. **القيمة الحالية (State Value):** وهي القيمة التي نعرضها على الواجهة.
  2. **دالة التحديث (State Setter):** وهي الدالة التي نستخدمها لتغيير هذه القيمة.

عادةً ما نكتب هذا بالشكل التالي:
```jsx
const [name, setName] = useState('أحمد');
```
بهذا الشكل:
- `name` يمثل الحالة الحالية.
- `setName` هو الدالة التي نقوم باستدعائها لتغيير قيمة `name`.

عند استدعاء `setName` لتعديل قيمة `name`، يقوم React بإعادة رسم المكون تلقائياً، مما يتيح لنا رؤية القيمة الجديدة على الفور.

---

## مثال عملي
في المثال التالي سنقوم بتبديل الاسم بين "يعقوب" و"محمد" عند الضغط على زر:
```jsx
import React from "react";
import { useState } from "react";

export default function MyButton() {
   // تعريف الحالة بقيمة ابتدائية "يعقوب"
   const [name, setName] = useState('يعقوب');

   // دالة لتغيير الاسم عند الضغط على الزر
   function changeName() {
       if (name === 'يعقوب')
           setName('محمد');
       else 
           setName('يعقوب');
   }

   return (
       <div>
           <h1>{name}</h1>
           <button onClick={changeName}>اضغط لتغيير الاسم</button>
       </div>
   );
}
```
**شرح الكود:**
- عند تحميل المكون، يتم تعيين الحالة `name` إلى "يعقوب".
- عند الضغط على الزر، تستدعي الدالة `changeName` دالة `setName` لتبديل القيمة.
- يؤدي تغيير الحالة إلى إعادة رسم المكون بحيث يظهر الاسم الجديد في عنصر `<h1>`.

---

## الخلاصة
- **useState** هو أداة أساسية في React لإدارة حالة المكونات بطريقة تجعل الواجهة تتفاعل مع تغييرات البيانات.
- استخدام تفكيك المصفوفات يُبسط عملية قراءة وتحديث الحالة.
- من خلال استخدام useState، يمكننا حل مشاكل عدم تحديث الواجهة تلقائياً عند تغير البيانات.
- التجربة العملية تظهر كيف يمكن لتغيير بسيط في الحالة (مثل تغيير الاسم) أن يؤدي إلى إعادة رسم المكون وعرض القيمة الجديدة.

بهذا نكون قد استعرضنا كيفية استخدام useState لتحديث وإدارة حالة المكونات في React بطريقة فعالة وبسيطة.
